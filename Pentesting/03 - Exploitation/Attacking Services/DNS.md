
# Nmap

```
nmap -p53 -Pn -sV -sC 10.10.10.10
```

# DNS Zone Transfer

## DIG - AXFR Zone Transfer

```
dig AXFR @ns1.inlanefreight.htb inlanefreight.htb
```

[Fierce](https://github.com/mschwager/fierce)
```
fierce --domain zonetransfer.me
```

# Subdomain Enumeration

- [Subfinder](https://github.com/projectdiscovery/subfinder)
- [Sublist3r](https://github.com/aboul3la/Sublist3r)
- [Subbrute](https://github.com/TheRook/subbrute)

```
./subfinder -d inlanefreight.com -v
```

```
git clone https://github.com/TheRook/subbrute.git >> /dev/null 2>&1
cd subbrute
echo "ns1.inlanefreight.com" > ./resolvers.txt
./subbrute inlanefreight.com -s ./names.txt -r ./resolvers.txt
```

## host

```
host support.inlanefreight.com

support.inlanefreight.com is an alias for inlanefreight.s3.amazonaws.com
```

## Can I Takeover

[Can I Takeover XYZ](https://github.com/EdOverflow/can-i-take-over-xyz)

# DNS Spoofing

## Local DNS Cache Poisoning

To exploit the DNS cache poisoning via Ettercap, we should first edit the /etc/ettercap/etter.dns file to map the target domain name (e.g., inlanefreight.com) that they want to spoof and the attacker's IP address (e.g., 192.168.225.110) that they want to redirect a user to:

```
cat /etc/ettercap/etter.dns

inlanefreight.com      A   192.168.225.110
*.inlanefreight.com    A   192.168.225.110
```

Next, start the Ettercap tool and scan for live hosts within the network by navigating to Hosts > Scan for Hosts. Once completed, add the target IP address (e.g., 192.168.152.129) to Target1 and add a default gateway IP (e.g., 192.168.152.2) to Target2.

Activate dns_spoof attack by navigating to Plugins > Manage Plugins. This sends the target machine with fake DNS responses that will resolve inlanefreight.com to IP address 192.168.225.110:

